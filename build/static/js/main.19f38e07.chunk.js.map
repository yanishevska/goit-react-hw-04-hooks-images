{"version":3,"sources":["components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Searchbar/Searchbar.module.css","services/Pixabay.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Button/Button.js","components/Loader/Loader.js","components/ImageGallery/ImageGallery.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","App.js","index.js"],"names":["module","exports","axios","defaults","baseURL","params","key","image_type","fetchPictures","queryName","a","page","get","response","data","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","onClick","id","className","s","ImageGalleryItemImage","src","alt","Button","type","LoadSpinner","loaderPosition","color","height","width","ImageGallery","handleBigImg","useState","images","setImages","status","setStatus","currentPage","setCurrentPage","useEffect","setTimeout","then","prev","scrollSmooth","catch","error","window","scrollTo","top","document","documentElement","scrollHeight","behavior","handleClick","e","target","nodeName","largeImg","dataset","source","title","length","errorSpan","map","Searchbar","onSubmit","setQueryName","SearchForm","preventDefault","trim","toast","info","SearchFormButton","SearchFormButtonLabel","value","onChange","currentTarget","toLowerCase","SearchFormInput","autoComplete","autoFocus","placeholder","modalRoot","querySelector","Modal","children","toggleModal","largeImgURL","addEventListener","handleKeyDown","removeEventListener","code","createPortal","Overlay","App","showModal","setShowModal","setLargeImg","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.19f38e07.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2Iimr\",\"Modal\":\"Modal_Modal__2hYhO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__1NmcE\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__1dGhj\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1k7IL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loaderPosition\":\"Loader_loaderPosition__h28Tl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1zmgh\",\"errorSpan\":\"ImageGallery_errorSpan__1YM7j\",\"title\":\"ImageGallery_title__2xbNM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__2OgXN\",\"SearchForm\":\"Searchbar_SearchForm__3ZCxY\",\"SearchFormButton\":\"Searchbar_SearchFormButton__z_YKR\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__2qbGu\",\"SearchFormInput\":\"Searchbar_SearchFormInput__2lKSJ\"};","import axios from 'axios';\r\n\r\nconst API_KEY = '23145866-da154062db79be09da281bc6e';\r\nconst BASE_URL = 'https://pixabay.com/api/';\r\n\r\naxios.defaults.baseURL = BASE_URL;\r\naxios.defaults.params = {\r\n  key: API_KEY,\r\n  image_type: 'photo',\r\n};\r\n\r\nexport const fetchPictures = async (queryName, page = 1) => {\r\n  const response = await axios.get(\r\n    `?q=${queryName}&orientation=horizontal&safesearch=true&page=${page}&per_page=12`,\r\n  );\r\n  return response.data.hits;\r\n};\r\n\r\n","import s from './ImageGalleryItem.module.css';\r\n\r\nfunction ImageGalleryItem({ webformatURL, largeImageURL, tags, onClick,id}) {\r\n   return (\r\n        <>\r\n            \r\n                <img className={s.ImageGalleryItemImage}\r\n                  id={id}\r\n                    src={webformatURL}\r\n                    data-source={largeImageURL}\r\n                    alt={tags}\r\n                    onClick={onClick}\r\n                \r\n                />\r\n           \r\n        </>\r\n    )\r\n}\r\n\r\nexport default ImageGalleryItem;\r\n","import s from './Button.module.css';\r\nfunction Button({onClick}) {\r\n    return (\r\n       <button className={s.Button} type=\"button\" onClick={onClick}>Load more</button>\r\n  )\r\n}\r\nexport default Button;","import Loader from \"react-loader-spinner\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport s from './Loader.module.css';\r\n\r\nfunction LoadSpinner() {\r\n  return (\r\n    <div className={s.loaderPosition}>\r\n      <Loader\r\n        type=\"Bars\"\r\n        color=\"#00BFFF\"\r\n        height={80}\r\n        width={80}\r\n      />\r\n    </div>\r\n  )\r\n}\r\nexport default LoadSpinner;","import { useState,useEffect } from \"react\";\r\nimport s from './ImageGallery.module.css';\r\nimport {fetchPictures} from '../../services/Pixabay'\r\nimport ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport Button from \"../Button\";\r\nimport LoadSpinner from \"../Loader\";\r\n\r\nfunction ImageGallery({ queryName, handleBigImg }) {\r\n  const [images, setImages] = useState(null);\r\n  const [status, setStatus] = useState('idle');\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  \r\n  useEffect(() => {\r\n\r\n    setCurrentPage(1);\r\n  }, [queryName]);\r\n\r\n  useEffect(() => {\r\n    if (!queryName) {\r\n      return;\r\n    }\r\n    setStatus('pending');\r\n\r\n    setTimeout(() => {\r\n      fetchPictures(queryName, currentPage)\r\n        .then(images => {\r\n          if (currentPage === 1) {\r\n            setImages(images);\r\n          } else {\r\n              setImages((prev) => [...prev, ...images]);\r\n          }\r\n            setStatus('resolved');\r\n            scrollSmooth();\r\n          } )\r\n        .catch(error => {\r\n          setStatus('rejected')\r\n        })\r\n    }, 1000)\r\n  },[currentPage,queryName])\r\n\r\n    \r\n    const scrollSmooth = () => {\r\n      return window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      })\r\n    }\r\n\r\n  const handleLoadMore = () => {\r\n      setCurrentPage((currentPage) => currentPage + 1);\r\n    \r\n  }\r\n     \r\n    const handleClick = (e) => {\r\n      if (e.target.nodeName === \"IMG\") {\r\n        const largeImg = e.target.dataset.source;\r\n        handleBigImg(largeImg);\r\n      }\r\n    }\r\n    \r\n    if (status === 'idle') {\r\n      return <h1 className={s.title}>Input name image</h1>\r\n    }\r\n    if (status === 'pending') {\r\n      return <div><LoadSpinner /></div>\r\n    }\r\n   \r\n    if (status === 'rejected') {\r\n      return <div className={s.title}>Oops</div>\r\n    }\r\n   \r\n    if (status === 'resolved') {\r\n      if (images.length === 0) {\r\n      \r\n        return (\r\n          <h2 className={s.title}> Don't have images with name <span className={s.errorSpan}> {queryName}</span>! Input another name</h2>\r\n        )\r\n      }\r\n    }\r\n    return (\r\n      <div>\r\n        <ul className={s.ImageGallery}>\r\n          {images.length > 0 &&\r\n            images.map(({ webformatURL, largeImageURL, tags, id }) => (\r\n              <li className={s.ImageGalleryItem} key={id}  >\r\n                <ImageGalleryItem\r\n                  key={{ id }}\r\n                  webformatURL={webformatURL}\r\n                  largeImageURL={largeImageURL}\r\n                  tags={tags}\r\n                  onClick={handleClick}\r\n                />\r\n              </li>\r\n            ))\r\n          }\r\n        </ul>\r\n        {images.length > 11 && <Button onClick={handleLoadMore} />}\r\n      </div>\r\n    )\r\n}\r\nexport default ImageGallery;\r\n","import {useState } from \"react\";\r\nimport s from './Searchbar.module.css';\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction Searchbar ({onSubmit}) {\r\n    const [queryName, setQueryName] = useState('');\r\n\r\n    const handleNameChange = e => {\r\n        setQueryName(e.currentTarget.value.toLowerCase());\r\n    };\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault();\r\n        if (queryName.trim() === '') {\r\n            return toast.info(\"Input name images!\");\r\n           \r\n        }\r\n      \r\n        setQueryName('');\r\n        onSubmit(queryName);\r\n    };\r\n\r\n    \r\n        return (\r\n            <header className={s.Searchbar}>\r\n                <form className={s.SearchForm} onSubmit={handleSubmit}>\r\n                    <button type=\"submit\" className={s.SearchFormButton}>\r\n                        <span className={s.SearchFormButtonLabel}>Search</span>\r\n                    </button>\r\n    \r\n                    <input\r\n                        value={queryName}\r\n                        onChange={handleNameChange}\r\n                        className={s.SearchFormInput}\r\n                        type=\"text\"\r\n                        autoComplete=\"off\"\r\n                        autoFocus\r\n                        placeholder=\"Search images and photos\"\r\n                    />\r\n                </form>\r\n            </header>\r\n        )\r\n}\r\n\r\nexport default Searchbar;\r\n\r\n","import {useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\n\r\nfunction Modal({children,toggleModal,largeImgURL}) {\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleKeyDown);\r\n        return () => {\r\n           window.removeEventListener('keydown', handleKeyDown)\r\n    }\r\n    })\r\n    \r\n    \r\n const handleKeyDown = e => {\r\n        if (e.code === 'Escape') {\r\n            toggleModal();\r\n        }\r\n    }\r\n\r\n   const handleBackdropClick = e => {\r\n        if (e.currentTarget === e.target) {\r\n           toggleModal();\r\n        }\r\n    }\r\n\r\n        return createPortal(\r\n            <div className={s.Overlay} onClick={handleBackdropClick}>\r\n                <div className={s.Modal}>\r\n                    <img src={largeImgURL} alt=\"big img\" width='1000'/>\r\n                    {children}</div>\r\n            </div>,\r\n            modalRoot,\r\n        )\r\n}\r\n\r\n\r\nexport default Modal;\r\n","import {useState } from \"react\";\nimport \"./App.css\";\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport ImageGallery from './components/ImageGallery';\nimport Searchbar from \"./components/Searchbar\";\nimport Modal from \"./components/Modal\";\n\nfunction App() {\n  const [queryName,setQueryName] = useState('');\n  const [showModal,setShowModal] = useState(false);\n  const [largeImg,setLargeImg] = useState('');\n  \n    \n  const toggleModal = () => {\n   setShowModal (!showModal)\n  }\n\n const  handleFormSubmit = queryName => {\n    setQueryName(queryName)\n  }\n\n  const handleBigImg = (data) => {\n    setLargeImg( data );\n  toggleModal();\n  }\n\n\n     return (\n       <div>\n         <Searchbar onSubmit={handleFormSubmit} />\n        \n         <ImageGallery queryName={queryName}  handleBigImg={handleBigImg} />\n         \n         {showModal &&\n           (<Modal toggleModal={toggleModal} largeImgURL={largeImg}/>)}\n\n         <ToastContainer autoClose={2000} />\n      </div>\n    );\n  }\n\n\nexport default App;\n\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}