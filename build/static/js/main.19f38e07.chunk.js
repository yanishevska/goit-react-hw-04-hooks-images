(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__2Iimr",Modal:"Modal_Modal__2hYhO"}},27:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1NmcE",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__1dGhj"}},28:function(e,t,a){e.exports={Button:"Button_Button__1k7IL"}},30:function(e,t,a){e.exports={loaderPosition:"Loader_loaderPosition__h28Tl"}},35:function(e,t,a){},36:function(e,t,a){},5:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__1zmgh",errorSpan:"ImageGallery_errorSpan__1YM7j",title:"ImageGallery_title__2xbNM"}},7:function(e,t,a){e.exports={Searchbar:"Searchbar_Searchbar__2OgXN",SearchForm:"Searchbar_SearchForm__3ZCxY",SearchFormButton:"Searchbar_SearchFormButton__z_YKR",SearchFormButtonLabel:"Searchbar_SearchFormButtonLabel__2qbGu",SearchFormInput:"Searchbar_SearchFormInput__2lKSJ"}},79:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(6),o=a.n(c),i=(a(35),a(4)),s=(a(36),a(12)),l=(a(37),a(17)),u=a(5),m=a.n(u),j=a(15),b=a.n(j),d=a(26),h=a(13),g=a.n(h);g.a.defaults.baseURL="https://pixabay.com/api/",g.a.defaults.params={key:"23145866-da154062db79be09da281bc6e",image_type:"photo"};var f=function(){var e=Object(d.a)(b.a.mark((function e(t){var a,r,n=arguments;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.length>1&&void 0!==n[1]?n[1]:1,e.next=3,g.a.get("?q=".concat(t,"&orientation=horizontal&safesearch=true&page=").concat(a,"&per_page=12"));case 3:return r=e.sent,e.abrupt("return",r.data.hits);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=a(27),p=a.n(O),_=a(1);var v=function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.tags,n=e.onClick,c=e.id;return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("img",{className:p.a.ImageGalleryItemImage,id:c,src:t,"data-source":a,alt:r,onClick:n})})},x=a(28),I=a.n(x);var S=function(e){var t=e.onClick;return Object(_.jsx)("button",{className:I.a.Button,type:"button",onClick:t,children:"Load more"})},y=a(29),N=a.n(y),w=(a(78),a(30)),L=a.n(w);var F=function(){return Object(_.jsx)("div",{className:L.a.loaderPosition,children:Object(_.jsx)(N.a,{type:"Bars",color:"#00BFFF",height:80,width:80})})};var G=function(e){var t=e.queryName,a=e.handleBigImg,n=Object(r.useState)(null),c=Object(i.a)(n,2),o=c[0],s=c[1],u=Object(r.useState)("idle"),j=Object(i.a)(u,2),b=j[0],d=j[1],h=Object(r.useState)(1),g=Object(i.a)(h,2),O=g[0],p=g[1];Object(r.useEffect)((function(){p(1)}),[t]),Object(r.useEffect)((function(){t&&(d("pending"),setTimeout((function(){f(t,O).then((function(e){s(1===O?e:function(t){return[].concat(Object(l.a)(t),Object(l.a)(e))}),d("resolved"),x()})).catch((function(e){d("rejected")}))}),1e3))}),[O,t]);var x=function(){return window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},I=function(e){if("IMG"===e.target.nodeName){var t=e.target.dataset.source;a(t)}};return"idle"===b?Object(_.jsx)("h1",{className:m.a.title,children:"Input name image"}):"pending"===b?Object(_.jsx)("div",{children:Object(_.jsx)(F,{})}):"rejected"===b?Object(_.jsx)("div",{className:m.a.title,children:"Oops"}):"resolved"===b&&0===o.length?Object(_.jsxs)("h2",{className:m.a.title,children:[" Don't have images with name ",Object(_.jsxs)("span",{className:m.a.errorSpan,children:[" ",t]}),"! Input another name"]}):Object(_.jsxs)("div",{children:[Object(_.jsx)("ul",{className:m.a.ImageGallery,children:o.length>0&&o.map((function(e){var t=e.webformatURL,a=e.largeImageURL,r=e.tags,n=e.id;return Object(_.jsx)("li",{className:m.a.ImageGalleryItem,children:Object(_.jsx)(v,{webformatURL:t,largeImageURL:a,tags:r,onClick:I},{id:n})},n)}))}),o.length>11&&Object(_.jsx)(S,{onClick:function(){p((function(e){return e+1}))}})]})},k=a(7),B=a.n(k);var C=function(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(i.a)(a,2),c=n[0],o=n[1];return Object(_.jsx)("header",{className:B.a.Searchbar,children:Object(_.jsxs)("form",{className:B.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===c.trim())return s.b.info("Input name images!");o(""),t(c)},children:[Object(_.jsx)("button",{type:"submit",className:B.a.SearchFormButton,children:Object(_.jsx)("span",{className:B.a.SearchFormButtonLabel,children:"Search"})}),Object(_.jsx)("input",{value:c,onChange:function(e){o(e.currentTarget.value.toLowerCase())},className:B.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},M=a(16),R=a.n(M),E=document.querySelector("#modal-root");var U=function(e){var t=e.children,a=e.toggleModal,n=e.largeImgURL;Object(r.useEffect)((function(){return window.addEventListener("keydown",o),function(){window.removeEventListener("keydown",o)}}));var o=function(e){"Escape"===e.code&&a()};return Object(c.createPortal)(Object(_.jsx)("div",{className:R.a.Overlay,onClick:function(e){e.currentTarget===e.target&&a()},children:Object(_.jsxs)("div",{className:R.a.Modal,children:[Object(_.jsx)("img",{src:n,alt:"big img",width:"1000"}),t]})}),E)};var q=function(){var e=Object(r.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),o=Object(i.a)(c,2),l=o[0],u=o[1],m=Object(r.useState)(""),j=Object(i.a)(m,2),b=j[0],d=j[1],h=function(){u(!l)};return Object(_.jsxs)("div",{children:[Object(_.jsx)(C,{onSubmit:function(e){n(e)}}),Object(_.jsx)(G,{queryName:a,handleBigImg:function(e){d(e),h()}}),l&&Object(_.jsx)(U,{toggleModal:h,largeImgURL:b}),Object(_.jsx)(s.a,{autoClose:2e3})]})};o.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(q,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.19f38e07.chunk.js.map